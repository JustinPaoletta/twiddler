<!DOCTYPE html>
<html>

<head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
</head>

<body>
    <script>
    //This is what creates the Twiddler Feed
    $(document).ready(function home() {
        var $body = $('body');
        $body.html('');
        $('body').css('background-color', '#9370DB');
        // setInterval(() => { console.log(index) }, 1000);  Something here will prob be the key to showing new tweets automatically
        var index = streams.home.length - 1;
        console.log(streams.home);
        while (index >= 0) {
            var tweet = streams.home[index];
            var $tweet = $('<div></div>');
            $($tweet).css('text-align', 'center');
            $($tweet).css('background-color', 'white');
            $($tweet).css('width', '50vw');
            $($tweet).css('margin-left', '25vw');
            $($tweet).css('height', '10vh');
            $($tweet).css('margin-top', '3vh');
            $($tweet).css('border', 'solid 2px #4B0082');
            $tweet.text('@' + tweet.user + ': ' + tweet.message).css('padding-top', '5vh');
            $tweet.appendTo($body);
            console.log(tweet.user);
            index -= 1;
        }

        // This shows the users tweets that you clicked on and creates a button to return home 
        $('div').click(function() {
            console.log('test');
            $('body').html('');

            let allText = $(this).html();

            var homeButton = $('<button>Twiddler Feed</button>');
            homeButton.appendTo($body);

            if (allText.includes('@douglascalhoun')) {
                console.log(streams.users.douglascalhoun);
                var index = streams.users.douglascalhoun.length - 1;

                while (index >= 0) {
                    var $tweet = $('<div></div>');
                    $($tweet).css('text-align', 'center');
                    $($tweet).css('background-color', 'white');
                    $($tweet).css('width', '50vw');
                    $($tweet).css('margin-left', '25vw');
                    $($tweet).css('height', '10vh');
                    $($tweet).css('margin-top', '3vh');
                    $($tweet).css('border', 'solid 2px #4B0082');
                    $tweet.text('@' + streams.users.douglascalhoun[index].user + ': ' + streams.users.douglascalhoun[index].message).css('padding-top', '5vh');
                    $tweet.appendTo($body);
                    index -= 1;
                }

            } else if (allText.includes('@mracus')) {
                console.log(streams.users.mracus);
                var index = streams.users.mracus.length - 1;

                while (index >= 0) {
                    var $tweet = $('<div></div>');
                    $($tweet).css('text-align', 'center');
                    $($tweet).css('background-color', 'white');
                    $($tweet).css('width', '50vw');
                    $($tweet).css('margin-left', '25vw');
                    $($tweet).css('height', '10vh');
                    $($tweet).css('margin-top', '3vh');
                    $($tweet).css('border', 'solid 2px #4B0082');
                    $tweet.text('@' + streams.users.mracus[index].user + ': ' + streams.users.mracus[index].message).css('padding-top', '5vh');
                    $tweet.appendTo($body);
                    index -= 1;
                }
            } else if (allText.includes('@sharksforcheap')) {
                console.log(streams.users.sharksforcheap);
                var index = streams.users.sharksforcheap.length - 1;

                while (index >= 0) {
                    var $tweet = $('<div></div>');
                    $($tweet).css('text-align', 'center');
                    $($tweet).css('background-color', 'white');
                    $($tweet).css('width', '50vw');
                    $($tweet).css('margin-left', '25vw');
                    $($tweet).css('height', '10vh');
                    $($tweet).css('margin-top', '3vh');
                    $($tweet).css('border', 'solid 2px #4B0082');
                    $tweet.text('@' + streams.users.sharksforcheap[index].user + ': ' + streams.users.sharksforcheap[index].message).css('padding-top', '5vh');
                    $tweet.appendTo($body);
                    index -= 1;
                }
            } else if (allText.includes('@shawndrost')) {
                console.log(streams.users.shawndrost);
                var index = streams.users.shawndrost.length - 1;

                while (index >= 0) {
                    var $tweet = $('<div></div>');
                    $($tweet).css('text-align', 'center');
                    $($tweet).css('background-color', 'white');
                    $($tweet).css('width', '50vw');
                    $($tweet).css('margin-left', '25vw');
                    $($tweet).css('height', '10vh');
                    $($tweet).css('margin-top', '3vh');
                    $($tweet).css('border', 'solid 2px #4B0082');
                    $tweet.text('@' + streams.users.shawndrost[index].user + ': ' + streams.users.shawndrost[index].message).css('padding-top', '5vh');
                    $tweet.appendTo($body);
                    index -= 1;
                }
            }

            $('button').click(() => { home() })

        });




    });
    </script>
</body>

</html>